# ğŸ›¡ï¸ Decentralized Product Provenance & Warranty System
# å»ä¸­å¿ƒåŒ–äº§å“æº¯æºä¸ä¿ä¿®ç³»ç»Ÿ

<div align="center">

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![React](https://img.shields.io/badge/React-18.3-blue?logo=react)](https://reactjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.0-blue?logo=typescript)](https://www.typescriptlang.org/)
[![Solidity](https://img.shields.io/badge/Solidity-%5E0.8.20-363636?logo=solidity)](https://docs.soliditylang.org/)
[![Ethers.js](https://img.shields.io/badge/Ethers.js-v6-darkblue?logo=ethereum)](https://docs.ethers.org/)
[![Tailwind CSS](https://img.shields.io/badge/Tailwind-v4-38B2AC?logo=tailwind-css)](https://tailwindcss.com/)

**A transparent, immutable, and secure product lifecycle management system built on Ethereum.**
<br>
**åŸºäºä»¥å¤ªåŠæ„å»ºçš„é€æ˜ã€ä¸å¯ç¯¡æ”¹ä¸”å®‰å…¨çš„äº§å“å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†ç³»ç»Ÿã€‚**

[Live Demo](https://your-demo-link.com) Â· [Report Bug](https://github.com/yourusername/repo/issues) Â· [Request Feature](https://github.com/yourusername/repo/issues)

</div>

---

## ğŸ“– Overview / ç®€ä»‹

**Product Provenance dApp** is a full-stack decentralized application designed to combat counterfeiting and streamline warranty management. By tokenizing products as NFTs (ERC-721), we ensure that every product's historyâ€”from manufacturing to retail, and from sale to serviceâ€”is recorded immutably on the blockchain.

Unlike traditional systems, this dApp features an **Event-Driven Architecture**, utilizing off-chain indexing for cost-effective and fast data retrieval, while keeping the source of truth on-chain.

**äº§å“æº¯æº dApp** æ˜¯ä¸€ä¸ªå…¨æ ˆå»ä¸­å¿ƒåŒ–åº”ç”¨ï¼Œæ—¨åœ¨æ‰“å‡»å‡å†’ä¼ªåŠ£äº§å“å¹¶ç®€åŒ–ä¿ä¿®ç®¡ç†æµç¨‹ã€‚é€šè¿‡å°†äº§å“ä»£å¸åŒ–ä¸º NFT (ERC-721)ï¼Œæˆ‘ä»¬ç¡®ä¿äº§å“çš„æ¯ä¸€æ®µå†å²â€”â€”ä»åˆ¶é€ åˆ°é›¶å”®ï¼Œä»é”€å”®åˆ°å”®åæœåŠ¡â€”â€”éƒ½è¢«ä¸å¯ç¯¡æ”¹åœ°è®°å½•åœ¨åŒºå—é“¾ä¸Šã€‚

ä¸åŒäºä¼ ç»Ÿç³»ç»Ÿï¼Œæœ¬åº”ç”¨é‡‡ç”¨ **äº‹ä»¶é©±åŠ¨æ¶æ„ (Event-Driven Architecture)**ï¼Œåˆ©ç”¨é“¾ä¸‹ç´¢å¼•å®ç°ä½æˆæœ¬ã€é«˜æ•ˆç‡çš„æ•°æ®æ£€ç´¢ï¼ŒåŒæ—¶ä¿è¯æ•°æ®çš„çœŸå®æ€§ç”±é“¾ä¸Šé”å®šã€‚

---

## âœ¨ Key Features / æ ¸å¿ƒç‰¹æ€§

- **ğŸ­ Role-Based Portals**: Distinct interfaces for Manufacturers, Retailers, Customers, and Service Centers.
  <br> **åŸºäºè§’è‰²çš„é—¨æˆ·**ï¼šä¸ºåˆ¶é€ å•†ã€é›¶å”®å•†ã€å®¢æˆ·å’ŒæœåŠ¡ä¸­å¿ƒæä¾›ç‹¬ç«‹çš„ä¸“å±æ“ä½œç•Œé¢ã€‚
  
- **ğŸ“¦ NFT-Based Ownership**: Each product is an ERC-721 token, ensuring verifiable ownership transfer.
  <br> **NFT æ‰€æœ‰æƒç®¡ç†**ï¼šæ¯ä¸ªäº§å“éƒ½æ˜¯ä¸€ä¸ª ERC-721 ä»£å¸ï¼Œç¡®ä¿æ‰€æœ‰æƒè½¬ç§»å¯éªŒè¯ã€å¯è¿½æº¯ã€‚

- **ğŸ›¡ï¸ Automated Warranty**: Warranty logic (activation, expiration) is enforced by smart contracts.
  <br> **è‡ªåŠ¨åŒ–ä¿ä¿®**ï¼šä¿ä¿®é€»è¾‘ï¼ˆæ¿€æ´»ã€è¿‡æœŸï¼‰ç”±æ™ºèƒ½åˆçº¦å¼ºåˆ¶æ‰§è¡Œï¼Œæœç»äººä¸ºç¯¡æ”¹ã€‚

- **ğŸ“œ Complete Lifecycle Tracking**: Visualize the entire history of a product (Mint â†’ Transfer â†’ Claim â†’ Repair).
  <br> **å…¨ç”Ÿå‘½å‘¨æœŸè¿½è¸ª**ï¼šå¯è§†åŒ–å±•ç¤ºäº§å“çš„å®Œæ•´å†å²ï¼ˆé“¸é€  â†’ è½¬ç§» â†’ ç´¢èµ” â†’ ç»´ä¿®ï¼‰ã€‚

- **ğŸ¦Š Seamless Wallet Integration**: Full MetaMask support with robust error handling and network detection.
  <br> **æ— ç¼é’±åŒ…é›†æˆ**ï¼šå®Œç¾æ”¯æŒ MetaMaskï¼Œå…·å¤‡å¼ºå¤§çš„é”™è¯¯å¤„ç†å’Œç½‘ç»œè‡ªåŠ¨æ£€æµ‹åŠŸèƒ½ã€‚

- **âš¡ Dual Mode**: Supports both **Real Blockchain Mode** (Sepolia/Local) and **Demo Mode** (No wallet required).
  <br> **åŒæ¨¡å¼æ”¯æŒ**ï¼šåŒæ—¶æ”¯æŒ **çœŸå®åŒºå—é“¾æ¨¡å¼**ï¼ˆSepolia/æœ¬åœ°ï¼‰å’Œ **æ¼”ç¤ºæ¨¡å¼**ï¼ˆæ— éœ€é’±åŒ…å³å¯ä½“éªŒï¼‰ã€‚

---

## ğŸ“¸ Screenshots / ç•Œé¢æˆªå›¾

| Customer Portal (å®¢æˆ·é—¨æˆ·) | Manufacturer Dashboard (åˆ¶é€ å•†åå°) |
|:---:|:---:|
| ![Customer](https://via.placeholder.com/400x200?text=Customer+Portal) | ![Manufacturer](https://via.placeholder.com/400x200?text=Manufacturer+Portal) |

| Product Timeline (äº§å“æ—¶é—´è½´) | Mobile Responsive (ç§»åŠ¨ç«¯é€‚é…) |
|:---:|:---:|
| ![Timeline](https://via.placeholder.com/400x200?text=Product+Timeline) | ![Mobile](https://via.placeholder.com/400x200?text=Mobile+Responsive) |

---

## ğŸ› ï¸ Tech Stack / æŠ€æœ¯æ ˆ

### Frontend (å‰ç«¯)
- **Framework**: React 18 + Vite
- **Language**: TypeScript
- **Styling**: Tailwind CSS v4
- **Components**: Shadcn UI (Radix Primitives)
- **Icons**: Lucide React

### Blockchain (åŒºå—é“¾)
- **Smart Contracts**: Solidity ^0.8.20
- **Standards**: ERC-721 (OpenZeppelin)
- **Interaction**: Ethers.js v6
- **Development**: Hardhat

---

## ğŸ—ï¸ Architecture / æ¶æ„è®¾è®¡

This project implements a robust **Event-Driven Architecture** to handle historical data efficiently.
æœ¬é¡¹ç›®å®æ–½äº†ç¨³å¥çš„ **äº‹ä»¶é©±åŠ¨æ¶æ„**ï¼Œä»¥é«˜æ•ˆå¤„ç†å†å²æ•°æ®ã€‚

```mermaid
graph LR
    A[User Action / ç”¨æˆ·æ“ä½œ] --> B(Smart Contract / æ™ºèƒ½åˆçº¦)
    B --> C{Emit Event / æŠ›å‡ºäº‹ä»¶}
    C --> D[Blockchain Logs / é“¾ä¸Šæ—¥å¿—]
    D --> E[Frontend Query / å‰ç«¯æŸ¥è¯¢]
    E --> F[Reconstruct History / é‡æ„å†å²]
```

Instead of storing expensive arrays on-chain, we leverage indexed events (`ProductRegistered`, `Transfer`, `WarrantyClaimSubmitted`) to reconstruct the product timeline on the client side. This reduces Gas costs by over 80%.

æˆ‘ä»¬ä¸é‡‡ç”¨æ˜‚è´µçš„é“¾ä¸Šæ•°ç»„å­˜å‚¨æ–¹å¼ï¼Œè€Œæ˜¯åˆ©ç”¨ç´¢å¼•äº‹ä»¶ï¼ˆå¦‚ `ProductRegistered`, `Transfer`ï¼‰åœ¨å®¢æˆ·ç«¯é‡æ„äº§å“æ—¶é—´è½´ã€‚è¿™ä½¿å¾— Gas æˆæœ¬é™ä½äº† 80% ä»¥ä¸Šã€‚

---

## ğŸš€ Getting Started / å¿«é€Ÿå¼€å§‹

### Prerequisites / å‰ç½®è¦æ±‚
- Node.js 16+
- MetaMask Browser Extension (MetaMask æµè§ˆå™¨æ’ä»¶)

### Installation / å®‰è£…æ­¥éª¤

1. **Clone the repository / å…‹éš†ä»“åº“**
   ```bash
   git clone [https://github.com/yourusername/product-provenance-dapp.git](https://github.com/yourusername/product-provenance-dapp.git)
   cd product-provenance-dapp
   ```

2. **Install dependencies / å®‰è£…ä¾èµ–**
   ```bash
   npm install
   ```

3. **Configure Environment / é…ç½®ç¯å¢ƒ**
   - Edit `src/lib/contractConfig.ts` with your contract address.
   - ç¼–è¾‘ `src/lib/contractConfig.ts`ï¼Œå¡«å…¥æ‚¨çš„åˆçº¦åœ°å€ã€‚

4. **Run the dApp / å¯åŠ¨åº”ç”¨**
   ```bash
   npm run dev
   ```

### Smart Contract Deployment (Optional) / éƒ¨ç½²æ™ºèƒ½åˆçº¦ï¼ˆå¯é€‰ï¼‰

If you want to deploy your own instance:
å¦‚æœæ‚¨æƒ³éƒ¨ç½²è‡ªå·±çš„åˆçº¦å®ä¾‹ï¼š

```bash
# Start local node / å¯åŠ¨æœ¬åœ°èŠ‚ç‚¹
npx hardhat node

# Deploy contract / éƒ¨ç½²åˆçº¦
npx hardhat run scripts/deploy.js --network localhost
```

---

## ğŸ“– Usage Guide / ä½¿ç”¨æŒ‡å—

1. **Connect Wallet (è¿æ¥é’±åŒ…)**
   - Click the "Guest User / Connect" button in the sidebar.
   - ç‚¹å‡»ä¾§è¾¹æ åº•éƒ¨çš„ "Guest User / Connect" æŒ‰é’®ã€‚

2. **Manufacturer (åˆ¶é€ å•†)**
   - Use the Manufacturer portal to `Mint` a new product.
   - ä½¿ç”¨åˆ¶é€ å•†é—¨æˆ· `Mint`ï¼ˆé“¸é€ ï¼‰æ–°äº§å“ã€‚

3. **Retailer (é›¶å”®å•†)**
   - Connect as a retailer to `Transfer` the product to a customer.
   - ä»¥é›¶å”®å•†èº«ä»½è¿æ¥ï¼Œå°†äº§å“ `Transfer`ï¼ˆè½¬ç§»ï¼‰ç»™å®¢æˆ·ã€‚

4. **Customer (å®¢æˆ·)**
   - View your product, check warranty status, and `Submit Claim` if needed.
   - æŸ¥çœ‹æ‚¨çš„äº§å“ï¼Œæ£€æŸ¥ä¿ä¿®çŠ¶æ€ï¼Œå¦‚æœ‰éœ€è¦å¯ `Submit Claim`ï¼ˆæäº¤ç´¢èµ”ï¼‰ã€‚

5. **Verify (éªŒè¯)**
   - Anyone can use the "Verify" tab to check a product's authenticity using its ID or Serial Number.
   - ä»»ä½•äººéƒ½å¯ä»¥ä½¿ç”¨ "Verify" æ ‡ç­¾é¡µï¼Œé€šè¿‡ ID æˆ–åºåˆ—å·éªŒè¯äº§å“çœŸä¼ªã€‚

---

## ğŸ›£ï¸ Roadmap / è·¯çº¿å›¾

- [x] Core ERC-721 Implementation / æ ¸å¿ƒ ERC-721 å®ç°
- [x] Role-Based Access Control / åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ (RBAC)
- [x] Frontend UI with Shadcn / åŸºäº Shadcn çš„å‰ç«¯ UI
- [x] Event-Based History Timeline / åŸºäºäº‹ä»¶çš„å†å²æ—¶é—´è½´
- [ ] Integration with The Graph (Subgraph) / é›†æˆ The Graph
- [ ] IPFS Support for Product Images / æ”¯æŒ IPFS å­˜å‚¨äº§å“å›¾ç‰‡
- [ ] Mobile App (React Native) / ç§»åŠ¨ç«¯ App

---

## ğŸ¤ Contributing / è´¡çŒ®

Contributions are what make the open-source community such an amazing place to learn, inspire, and create. Any contributions you make are **greatly appreciated**.

å¼€æºç¤¾åŒºä¹‹æ‰€ä»¥å¦‚æ­¤ç¾å¦™ï¼Œæ˜¯å› ä¸ºæœ‰å¤§å®¶çš„è´¡çŒ®ã€‚æˆ‘ä»¬ **éå¸¸æ¬¢è¿** æ‚¨çš„ä»»ä½•è´¡çŒ®ã€‚

1. Fork the Project
2. Create your Feature Branch (`git checkout -b feature/AmazingFeature`)
3. Commit your Changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the Branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

---

## ğŸ“„ License / è®¸å¯è¯

Distributed under the MIT License. See `LICENSE` for more information.
åŸºäº MIT è®¸å¯è¯åˆ†å‘ã€‚è¯¦æƒ…è¯·å‚é˜… `LICENSE` æ–‡ä»¶ã€‚

---

<div align="center">
  <p>Don't forget to â­ star this repo if you found it useful!</p>
  <p>å¦‚æœè§‰å¾—é¡¹ç›®æœ‰ç”¨ï¼Œè¯·åˆ«å¿˜äº†ç‚¹ä¸ª â­ Starï¼</p>
  <p>Built with â¤ï¸ by YourName</p>
</div>